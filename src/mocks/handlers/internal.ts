import { DateTime } from 'luxon';
import { http, HttpResponse } from 'msw';

const profiles = new Map<string, Record<string, unknown>>([
  [
    'my-profile',
    {
      id: 'my-profile',
      name: 'My Profile',
      description: 'This is my profile.',
      timezone: 'America/Los_Angeles',
      twitch: { accessToken: 'mock-twitch-token' },
      standardTags: [],
    },
  ],
]);

export const handlers = [
  http.get('/api/timers', () => {
    return HttpResponse.json({
      data: [
        {
          id: '1',
          name: 'Timer 1',
          duration: 60,
          durationLeft: 30,
          enabled: true,
        },
        {
          id: '2',
          name: 'Timer 2',
          duration: 120,
          durationLeft: 60,
          enabled: false,
        },
        {
          id: '3',
          name: 'Timer 3',
          duration: 180,
          durationLeft: 180,
          enabled: false,
        },
      ],
    });
  }),

  http.get('/api/records/profiles/my-profile', () => {
    return HttpResponse.json(profiles.get('my-profile'));
  }),

  http.put('/api/records/profiles/my-profile', async ({ request }) => {
    const profileUpdate: any = await request.json();

    const profile = {
      ...profiles.get('my-profile'),
      ...profileUpdate,
    };

    profiles.set('my-profile', profile);

    return HttpResponse.json(profiles.get('my-profile'));
  }),

  http.get('/api/records/series', () => {
    return HttpResponse.json({
      items: [
        {
          id: 1,
          title: 'Coding on Sundays',
          description:
            'Coding on Sundays is a weekly stream where we work on a project together.',
          prep_notes: 'Things to think about before I go live.',
          start_date: '2023-01-01',
          end_date: '2024-12-31',
          skips: [
            {
              date: '2024-12-24',
              reason: 'Christmas Eve',
            },
            {
              date: '2024-12-31',
              reason: "New Year's Eve",
            },
          ],
          recurrence: {
            type: 'weekly',
            days: ['sunday'],
            interval: 1,
          },
          timezone: 'America/Los_Angeles',
          start_time: '08:30',
          end_time: '11:30',
          tags: [
            'typescript',
            'react',
            'vscode',
            'GithubCopilot',
            'vite',
            'WebDevelopment',
            'KeyboardCam',
          ],
          twitch_category: {
            id: '1469308723',
            name: 'Software and Game Development',
          },
        },
      ],
      cursor: null,
    });
  }),

  http.get('/api/records/series/1', () => {
    return HttpResponse.json({
      id: 1,
      title: 'Coding on Sundays',
      description:
        'Coding on Sundays is a weekly stream where we work on a project together.',
      prep_notes: 'Things to think about before I go live.',
      start_date: '2023-01-01',
      end_date: '2024-12-31',
      skips: [
        {
          date: '2024-12-24',
          reason: 'Christmas Eve',
        },
        {
          date: '2024-12-31',
          reason: "New Year's Eve",
        },
      ],
      recurrence: {
        type: 'weekly',
        days: ['sunday'],
        interval: 1,
      },
      timezone: 'America/Los_Angeles',
      start_time: '08:30',
      end_time: '11:30',
      tags: [
        'typescript',
        'react',
        'vscode',
        'GithubCopilot',
        'vite',
        'WebDevelopment',
        'KeyboardCam',
      ],
      twitch_category: {
        id: '1469308723',
        name: 'Software and Game Development',
      },
    });
  }),

  http.get('/api/records/streams', () => {
    return HttpResponse.json({
      items: [
        {
          id: 1,
          series_id: 1,
          stream_date: DateTime.now().toISODate(),
          title: 'Coding on Sundays - Week 1',
          video_clip_count: 10,
          has_transcription: true,
          has_silence_detection: true,
          has_episodes: false,
        },
      ],
      cursor: null,
    });
  }),

  http.get('/api/records/streams/1', () => {
    return HttpResponse.json({
      id: 1,
      series_id: 1,
      stream_date: DateTime.now().toISODate(),
      title: 'Coding on Sundays - Week 1',
      video_clip_count: 10,
      has_transcription: true,
      has_silence_detection: true,
      has_episodes: false,
    });
  }),

  http.get('/api/records/episodes', () => {
    return HttpResponse.json({
      items: [
        {
          id: 1,
          stream_id: 1,
          series_id: 1,
          title: 'Coding on Sundays - Week 1, Part 1',
          order_index: 1,
        },
      ],
      cursor: null,
    });
  }),

  http.get('/api/records/video_clips', () => {
    return HttpResponse.json({
      cursor: '{"key":"2024-06-17/2024-06-17 18-13-43.mkv"}',
      items: [
        {
          audio: 'audio/2024-11-28/2024-11-28 09-34-29.mkv',
          key: '2024-11-28/2024-11-28 09-34-29.mkv',
          keyframes: [
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-000000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-000250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-000500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-000750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-001000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-001250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-001500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-001750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-002000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-002250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-002500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-002750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-003000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-003250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-003500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-003750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-004000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-004250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-004500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-004750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-005000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-005250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-005500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-005750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-006000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-006250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-006500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-006750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-007000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-007250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-007500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-007750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-008000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-008250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-008500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-008750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-009000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-009250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-009500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-009750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-010000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-010250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-010500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-010750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-011000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-011250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-011500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-011750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-012000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-012250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-012500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-012750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-013000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-013250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-013500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-013750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-014000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-014250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-014500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-014750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-015000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-015250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-015500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-015750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-016000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-016250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-016500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-016750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-017000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-017250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-017500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-017750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-018000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-018250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-018500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-018750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-019000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-019250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-019500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-019750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-020000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-020250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-020500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-020750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-021000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-021250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-021500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-021750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-022000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-022250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-022500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-022750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-023000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-023250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-023500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-023750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-024000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-024250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-024500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-024750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-025000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-025250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-025500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-025750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-026000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-026250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-026500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-026750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-027000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-027250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-027500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-027750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-028000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-028250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-028500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-028750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-029000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-029250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-029500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-029750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-030000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-030250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-030500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-030750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-031000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-031250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-031500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-031750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-032000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-032250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-032500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-032750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-033000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-033250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-033500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-033750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-034000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-034250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-034500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-034750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-035000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-035250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-035500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-035750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-036000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-036250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-036500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-036750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-037000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-037250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-037500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-037750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-038000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-038250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-038500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-038750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-039000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-039250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-039500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-039750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-040000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-040250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-040500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-040750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-041000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-041250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-041500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-041750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-042000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-042250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-042500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-042750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-043000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-043250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-043500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-043750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-044000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-044250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-044500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-044750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-045000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-045250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-045500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-045750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-046000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-046250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-046500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-046750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-047000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-047250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-047500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-047750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-048000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-048250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-048500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-048750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-049000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-049250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-049500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-049750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-050000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-050250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-050500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-050750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-051000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-051250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-051500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-051750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-052000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-052250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-052500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-052750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-053000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-053250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-053500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-053750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-054000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-054250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-054500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-054750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-055000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-055250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-055500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-055750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-056000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-056250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-056500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-056750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-057000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-057250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-057500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-057750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-058000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-058250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-058500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-058750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-059000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-059250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-059500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-059750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-060000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-060250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-060500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-060750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-061000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-061250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-061500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-061750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-062000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-062250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-062500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-062750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-063000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-063250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-063500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-063750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-064000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-064250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-064500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-064750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-065000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-065250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-065500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-065750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-066000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-066250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-066500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-066750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-067000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-067250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-067500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-067750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-068000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-068250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-068500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-068750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-069000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-069250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-069500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-069750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-070000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-070250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-070500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-070750.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-071000.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-071250.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-071500.png',
            'keyframes/2024-11-28/2024-11-28 09-34-29.mkv/frame-071750.png',
          ],
          metadata: {
            format: {
              bit_rate: 40598629.0,
              duration: 1200.0,
              filename: '/tmp/videofile',
              format_long_name: 'Matroska / WebM',
              format_name: 'matroska,webm',
              nb_programs: 0.0,
              nb_streams: 5.0,
              probe_score: 100.0,
              size: 6089794366.0,
              start_time: '0.000000',
              tags: { DURATION: null },
            },
            streams: [
              {
                avg_frame_rate: '60/1',
                bits_per_raw_sample: '8',
                chroma_location: 'left',
                closed_captions: 0.0,
                codec_long_name: 'H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10',
                codec_name: 'h264',
                codec_tag: '0x0000',
                codec_tag_string: '[0][0][0][0]',
                codec_type: 'video',
                coded_height: 1440.0,
                coded_width: 2560.0,
                color_primaries: 'bt709',
                color_range: 'tv',
                color_space: 'bt709',
                color_transfer: 'bt709',
                display_aspect_ratio: '16:9',
                disposition: {
                  attached_pic: 0.0,
                  captions: 0.0,
                  clean_effects: 0.0,
                  comment: 0.0,
                  default: 0.0,
                  dependent: 0.0,
                  descriptions: 0.0,
                  dub: 0.0,
                  forced: 0.0,
                  hearing_impaired: 0.0,
                  karaoke: 0.0,
                  lyrics: 0.0,
                  metadata: 0.0,
                  original: 0.0,
                  still_image: 0.0,
                  timed_thumbnails: 0.0,
                  visual_impaired: 0.0,
                },
                extradata_size: 60.0,
                field_order: 'progressive',
                film_grain: 0.0,
                has_b_frames: 1.0,
                height: 1440.0,
                index: 0.0,
                is_avc: 'true',
                level: 51.0,
                nal_length_size: '4',
                pix_fmt: 'yuv420p',
                profile: 'High',
                r_frame_rate: '60/1',
                refs: 1.0,
                sample_aspect_ratio: '1:1',
                sample_rate: null,
                start_pts: 0.0,
                start_time: '0.000000',
                tags: { DURATION: '00:20:00.000000000' },
                time_base: '1/1000',
                width: 2560.0,
              },
              {
                avg_frame_rate: '0/0',
                bits_per_raw_sample: null,
                chroma_location: null,
                closed_captions: null,
                codec_long_name: 'AAC (Advanced Audio Coding)',
                codec_name: 'aac',
                codec_tag: '0x0000',
                codec_tag_string: '[0][0][0][0]',
                codec_type: 'audio',
                coded_height: null,
                coded_width: null,
                color_primaries: null,
                color_range: null,
                color_space: null,
                color_transfer: null,
                display_aspect_ratio: null,
                disposition: {
                  attached_pic: 0.0,
                  captions: 0.0,
                  clean_effects: 0.0,
                  comment: 0.0,
                  default: 0.0,
                  dependent: 0.0,
                  descriptions: 0.0,
                  dub: 0.0,
                  forced: 0.0,
                  hearing_impaired: 0.0,
                  karaoke: 0.0,
                  lyrics: 0.0,
                  metadata: 0.0,
                  original: 0.0,
                  still_image: 0.0,
                  timed_thumbnails: 0.0,
                  visual_impaired: 0.0,
                },
                extradata_size: 5.0,
                field_order: null,
                film_grain: null,
                has_b_frames: null,
                height: null,
                index: 1.0,
                is_avc: null,
                level: null,
                nal_length_size: null,
                pix_fmt: null,
                profile: 'LC',
                r_frame_rate: '0/0',
                refs: null,
                sample_aspect_ratio: null,
                sample_rate: 48000.0,
                start_pts: 0.0,
                start_time: '0.000000',
                tags: { DURATION: '00:20:00.000000000' },
                time_base: '1/1000',
                width: null,
              },
              {
                avg_frame_rate: '0/0',
                bits_per_raw_sample: null,
                chroma_location: null,
                closed_captions: null,
                codec_long_name: 'AAC (Advanced Audio Coding)',
                codec_name: 'aac',
                codec_tag: '0x0000',
                codec_tag_string: '[0][0][0][0]',
                codec_type: 'audio',
                coded_height: null,
                coded_width: null,
                color_primaries: null,
                color_range: null,
                color_space: null,
                color_transfer: null,
                display_aspect_ratio: null,
                disposition: {
                  attached_pic: 0.0,
                  captions: 0.0,
                  clean_effects: 0.0,
                  comment: 0.0,
                  default: 0.0,
                  dependent: 0.0,
                  descriptions: 0.0,
                  dub: 0.0,
                  forced: 0.0,
                  hearing_impaired: 0.0,
                  karaoke: 0.0,
                  lyrics: 0.0,
                  metadata: 0.0,
                  original: 0.0,
                  still_image: 0.0,
                  timed_thumbnails: 0.0,
                  visual_impaired: 0.0,
                },
                extradata_size: 5.0,
                field_order: null,
                film_grain: null,
                has_b_frames: null,
                height: null,
                index: 2.0,
                is_avc: null,
                level: null,
                nal_length_size: null,
                pix_fmt: null,
                profile: 'LC',
                r_frame_rate: '0/0',
                refs: null,
                sample_aspect_ratio: null,
                sample_rate: 48000.0,
                start_pts: 0.0,
                start_time: '0.000000',
                tags: { DURATION: '00:20:00.000000000' },
                time_base: '1/1000',
                width: null,
              },
              {
                avg_frame_rate: '0/0',
                bits_per_raw_sample: null,
                chroma_location: null,
                closed_captions: null,
                codec_long_name: 'AAC (Advanced Audio Coding)',
                codec_name: 'aac',
                codec_tag: '0x0000',
                codec_tag_string: '[0][0][0][0]',
                codec_type: 'audio',
                coded_height: null,
                coded_width: null,
                color_primaries: null,
                color_range: null,
                color_space: null,
                color_transfer: null,
                display_aspect_ratio: null,
                disposition: {
                  attached_pic: 0.0,
                  captions: 0.0,
                  clean_effects: 0.0,
                  comment: 0.0,
                  default: 0.0,
                  dependent: 0.0,
                  descriptions: 0.0,
                  dub: 0.0,
                  forced: 0.0,
                  hearing_impaired: 0.0,
                  karaoke: 0.0,
                  lyrics: 0.0,
                  metadata: 0.0,
                  original: 0.0,
                  still_image: 0.0,
                  timed_thumbnails: 0.0,
                  visual_impaired: 0.0,
                },
                extradata_size: 5.0,
                field_order: null,
                film_grain: null,
                has_b_frames: null,
                height: null,
                index: 3.0,
                is_avc: null,
                level: null,
                nal_length_size: null,
                pix_fmt: null,
                profile: 'LC',
                r_frame_rate: '0/0',
                refs: null,
                sample_aspect_ratio: null,
                sample_rate: 48000.0,
                start_pts: 0.0,
                start_time: '0.000000',
                tags: { DURATION: '00:20:00.000000000' },
                time_base: '1/1000',
                width: null,
              },
              {
                avg_frame_rate: '0/0',
                bits_per_raw_sample: null,
                chroma_location: null,
                closed_captions: null,
                codec_long_name: 'AAC (Advanced Audio Coding)',
                codec_name: 'aac',
                codec_tag: '0x0000',
                codec_tag_string: '[0][0][0][0]',
                codec_type: 'audio',
                coded_height: null,
                coded_width: null,
                color_primaries: null,
                color_range: null,
                color_space: null,
                color_transfer: null,
                display_aspect_ratio: null,
                disposition: {
                  attached_pic: 0.0,
                  captions: 0.0,
                  clean_effects: 0.0,
                  comment: 0.0,
                  default: 0.0,
                  dependent: 0.0,
                  descriptions: 0.0,
                  dub: 0.0,
                  forced: 0.0,
                  hearing_impaired: 0.0,
                  karaoke: 0.0,
                  lyrics: 0.0,
                  metadata: 0.0,
                  original: 0.0,
                  still_image: 0.0,
                  timed_thumbnails: 0.0,
                  visual_impaired: 0.0,
                },
                extradata_size: 5.0,
                field_order: null,
                film_grain: null,
                has_b_frames: null,
                height: null,
                index: 4.0,
                is_avc: null,
                level: null,
                nal_length_size: null,
                pix_fmt: null,
                profile: 'LC',
                r_frame_rate: '0/0',
                refs: null,
                sample_aspect_ratio: null,
                sample_rate: 48000.0,
                start_pts: 0.0,
                start_time: '0.000000',
                tags: { DURATION: '00:20:00.000000000' },
                time_base: '1/1000',
                width: null,
              },
            ],
          },
          silence: [{ end: 671.0, start: 617.0 }],
          start_time: 4804.0,
          stream_id: '6cdd088c-e5cf-4458-835c-31cd9dfa2796',
        },
        {
          key: '2024-03-22/2024-03-22 19-14-39.mkv',
          start_time: 4804.0,
          stream_id: 'e51547f0-7590-41da-b2e3-301b408e8013',
        },
        {
          key: '2024-02-09/2024-02-09 20-32-27.mkv',
          start_time: 9604.0,
          stream_id: 'f1dbe44e-59fe-4d23-b727-6c02b91b9548',
        },
        {
          key: '2024-02-04/2024-02-04 09-24-34.mkv',
          start_time: 3604.0,
          stream_id: 'ec9b5d5d-528a-49c0-aa52-56d7dc5e47b5',
        },
        {
          key: '2024-01-03/2024-01-03 19-14-07.mkv',
          start_time: 4804.0,
          stream_id: 'cf293bb7-b839-4dc1-a968-01e02f286a4c',
        },
        {
          key: '2024-07-14/2024-07-14 08-25-04.mkv',
          start_time: 0.0,
          stream_id: '99a3f643-4904-405e-8dce-d76ef626a110',
        },
        {
          key: '2023-10-23/2023-10-23 18-14-39.mkv',
          start_time: 1204.0,
          stream_id: '187a5bd6-e390-4156-ba1c-e256d75a3816',
        },
        {
          key: '2024-04-01/2024-04-01 20-33-47.mkv',
          start_time: 9604.0,
          stream_id: '1aa574af-2da3-4858-8165-1cb63d6616a4',
        },
        {
          key: '2024-03-01/2024-03-01 20-55-12.mkv',
          start_time: 10804.0,
          stream_id: '1ab8228a-8c3d-4433-aa4a-8d37b4337fdd',
        },
        {
          key: '2024-06-17/2024-06-17 18-13-43.mkv',
          start_time: 1204.0,
          stream_id: 'dd36bfbc-69a3-49f0-86a1-0a8698dfe195',
        },
      ],
    });
  }),

  http.get('/api/twitch/videos', () => {
    return HttpResponse.json({
      data: [
        {
          id: '12345',
          user_id: '12345',
          user_name: 'twitch_user',
          title: 'Twitch Video Title',
          description: 'Twitch Video Description',
          created_at: DateTime.now().toISO(),
          published_at: DateTime.now().toISO(),
          url: 'https://www.twitch.tv/videos/12345',
          thumbnail_url: 'https://www.twitch.tv/videos/12345/thumb.jpg',
          viewable: 'public',
          view_count: 100,
        },
      ],
    });
  }),

  http.get('/api/records/projects', () => {
    return HttpResponse.json({
      items: [
        {
          id: 1,
          title: 'TypeScript Frontend Development',
          description:
            'Collection of clips about TypeScript and React development from multiple streams',
          created_at: DateTime.now().minus({ days: 7 }).toISO(),
          updated_at: DateTime.now().minus({ days: 2 }).toISO(),
          cuts: [],
        },
        {
          id: 2,
          title: 'Backend Architecture Discussion',
          description:
            'Clips covering backend design patterns and architecture decisions',
          created_at: DateTime.now().minus({ days: 14 }).toISO(),
          updated_at: DateTime.now().minus({ days: 5 }).toISO(),
          cuts: [],
        },
      ],
    });
  }),

  http.get('/api/records/projects/:id', ({ params }) => {
    const { id } = params;
    if (id === '1') {
      return HttpResponse.json({
        id: 1,
        title: 'TypeScript Frontend Development',
        description:
          'Collection of clips about TypeScript and React development from multiple streams',
        created_at: DateTime.now().minus({ days: 7 }).toISO(),
        updated_at: DateTime.now().minus({ days: 2 }).toISO(),
        cuts: [],
      });
    }
    if (id === '2') {
      return HttpResponse.json({
        id: 2,
        title: 'Backend Architecture Discussion',
        description:
          'Clips covering backend design patterns and architecture decisions',
        created_at: DateTime.now().minus({ days: 14 }).toISO(),
        updated_at: DateTime.now().minus({ days: 5 }).toISO(),
        cuts: [],
      });
    }
    return new HttpResponse(null, { status: 404 });
  }),

  http.post('/api/records/projects', async ({ request }) => {
    const data: any = await request.json();
    return HttpResponse.json({
      id: Math.floor(Math.random() * 1000),
      created_at: DateTime.now().toISO(),
      updated_at: DateTime.now().toISO(),
      cuts: [],
      ...data,
    });
  }),

  http.put('/api/records/projects/:id', async ({ params, request }) => {
    const { id } = params;
    const data: any = await request.json();
    return HttpResponse.json({
      id: Number(id),
      updated_at: DateTime.now().toISO(),
      ...data,
    });
  }),

  http.delete('/api/records/projects/:id', () => {
    return new HttpResponse(null, { status: 204 });
  }),

  // Twitch and YouTube auth token endpoints
  http.get('/api/auth/twitch/token', () => {
    return HttpResponse.json({
      broadcaster_id: '12345678',
      access_token: 'mock-twitch-access-token',
    });
  }),

  http.get('/api/auth/youtube/token', () => {
    return HttpResponse.json({
      access_token: 'mock-youtube-access-token',
    });
  }),

  // EventSub Chat endpoints
  http.get('/api/eventsub/chat/status', () => {
    return HttpResponse.json({
      has_active_subscription: false,
      subscriptions: [],
    });
  }),

  http.post('/api/eventsub/chat/subscribe', async ({ request }) => {
    const body = await request.json().catch(() => ({}));
    console.log('EventSub subscribe request:', body);

    return HttpResponse.json({
      success: true,
      message: 'Successfully created EventSub subscription',
      subscription: {
        id: 'f1c2a387-161a-49f9-a165-0f21d7a4e1c4',
        status: 'enabled',
        type: 'channel.chat.message',
        version: '1',
        condition: {
          broadcaster_user_id: '1234',
          user_id: '1234',
        },
        transport: {
          method: 'webhook',
          callback: 'https://example.com/webhooks/callback',
        },
        created_at: '2023-04-11T10:11:12.123Z',
      },
    });
  }),
];
